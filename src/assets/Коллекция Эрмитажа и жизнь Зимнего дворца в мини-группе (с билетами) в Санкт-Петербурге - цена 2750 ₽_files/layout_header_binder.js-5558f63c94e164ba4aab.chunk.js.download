(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{1572:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.queue=[],this.timer=void 0}exec(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return this.queue.length>0||this.timer?this.queue.push({fn:e,ms:t}):this.schedule({fn:e,ms:t}),this}schedule(e){var{fn:t,ms:n=10,args:i}=e;this.timer=setTimeout(()=>{this.timer=void 0;var e=t(i);if(this.queue.length>0){var n=this.queue.shift();this.schedule({fn:n.fn,ms:n.ms,args:e})}},n)}}},19:function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(445));o.default.prototype.getChoiceIndex=(e,t)=>{if(0===e)return 0;var n=e>10&&e<20;return!n&&e%10===1?1:!n&&e%10>=2&&e%10<=4||t<4?2:3},r.default.use(o.default);var a=new o.default({locale:window.gon.locale});t.default=a},33:function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(6)),a=n(10),s=i(n(663));r.default.use(o.default);var c=new o.default.Store({state:{expirationDiscountsInfoForCurrentCity:window.gon.expiration_discounts_info_for_current_city,selectedCurrency:window.gon.default_currency||"RUB",currentCitySputnikPhone:window.gon.current_city_sputnik_phone,user:{id:window.gon.user_id,name:window.gon.user_name,avatar:window.gon.user_avatar,gender:window.gon.user_gender},locale:window.gon.locale||"ru",isDesktop:"desktop"===window.gon.device_type,isMobile:"mobile"===window.gon.device_type,isMobileResolution:window.innerWidth<=a.SM_BREAKPOINT,isTablet:"tablet"===window.gon.device_type,isTabletResolution:window.innerWidth>=a.SM_MAX_BREAKPOINT&&window.innerWidth<=a.MD_BREAKPOINT,isForeignDomain:window.gon.foreign_domain},getters:{user:e=>e.user,isAuthenticated:e=>e.user.id},actions:{selectCurrency:(e,t)=>{var{commit:n}=e;n(s.default.SET_CURRENCY,t)}},mutations:{[s.default.SET_CURRENCY]:(e,t)=>{e.selectedCurrency=t}},strict:["production","staging"].includes("production")});t.default=c},4499:function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(4500)),o=i(n(4503)),a=i(n(4504)),s={namespaced:!0,state:{isLoading:!1,currentCityIsLoaded:!1,topCities:[],cities:[],sights:[],regions:[],searchResultActivities:[],searchResultCategories:[],searchResultSights:[],searchResultRegions:[],searchResultCities:[],searchResultDestinationCities:[],isSearchResultWithOnline:!1,currentCityShortcut:window.gon.current_city_shortcut||"",currentCityName:window.gon.current_city_name?window.gon.current_city_name:"",currentCityNameGde:"",currentCityTags:[],currentCityTopActivities:[],currentCityDestinationCities:[]},actions:r.default,getters:o.default,mutations:a.default};t.default=s},4500:function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(4501)),a=i(n(4502)),s=["\u043e\u043d\u043b\u0430\u0439\u043d","\u043e\u043d \u043b\u0430\u0439\u043d","\u043e\u043d-\u043b\u0430\u0439\u043d"],c=e=>"\u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f"===e?e:e.toLowerCase().replace("\u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f","");function u(e){var t=e.toLowerCase();return s.some(e=>-1!==t.indexOf(e))}var l={loadInitData:e=>{var{commit:t}=e,n=0,i=()=>{r.default.ajax({url:"/api/frontend/searching?city_shortcut=".concat(window.gon.current_city_shortcut,"&locale=").concat(window.gon.locale),success:e=>{setTimeout(()=>{t("setInitData",e)},10)},error:()=>{(n+=1)<=3?setTimeout(i,1e3):console.error("Reached maximum retry attempts.")}})};i()},postSearch:(e,t,n)=>{var{state:i,commit:o}=e;o("setLoading",!0),t.length>=3&&r.default.ajax({url:"/".concat(window.gon.locale,"/search/activities?query=").concat(c(t),"&city_shortcut=").concat(i.currentCityShortcut,"&limit=").concat(n||3),dataType:"json",success(e){o("setSearchResultActivities",e.activities),o("setLoading",!1)},error(){o("setLoading",!1)}})},postLocalSearch:(e,t)=>{var{state:n,commit:i}=e,r=new o.default(n.currentCityTags,a.default).search(c(t)),s=new o.default(n.sights,a.default).search(c(t)),l=new o.default(n.regions,a.default).search(c(t)),d=new o.default(n.cities,a.default).search(c(t)),h=new o.default(n.currentCityDestinationCities,a.default).search(c(t));i("setLocalSearchResults",{categories:r.slice(0,4),sights:s.slice(0,4),regions:l.slice(0,2),cities:d.slice(0,4),destinationCities:h.slice(0,2),onlineQuery:u(t)})},setCurrentCity(e,t){var{commit:n}=e,{shortcut:i,morphs:r,tags:o,top_activities:a,destination_cities:s}=t;n("setCurrentCityParams",{shortcut:i,morphs:r,tags:o}),setTimeout(()=>{n("setCurrentCityActivitiesAndDestinations",{topActivities:a,destinationCities:s})},10)}};t.default=l},4501:function(e,t,n){"use strict";(function(e){var i,r,o,a,s=n(0)(n(2));a=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(0,s.default)(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==(0,s.default)(Symbol.iterator)?function(e){return(0,s.default)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,s.default)(e)})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(1),a=n(7),c=a.get,u=(a.deepValue,a.isArray),l=function(){function e(t,n){var i=n.location,r=void 0===i?0:i,o=n.distance,a=void 0===o?100:o,s=n.threshold,u=void 0===s?.6:s,l=n.maxPatternLength,d=void 0===l?32:l,h=n.caseSensitive,f=void 0!==h&&h,v=n.tokenSeparator,p=void 0===v?/ +/g:v,g=n.findAllMatches,y=void 0!==g&&g,m=n.minMatchCharLength,_=void 0===m?1:m,w=n.id,C=void 0===w?null:w,b=n.keys,S=void 0===b?[]:b,k=n.shouldSort,M=void 0===k||k,x=n.getFn,j=void 0===x?c:x,L=n.sortFn,A=void 0===L?function(e,t){return e.score-t.score}:L,R=n.tokenize,O=void 0!==R&&R,P=n.matchAllTokens,T=void 0!==P&&P,I=n.includeMatches,N=void 0!==I&&I,D=n.includeScore,E=void 0!==D&&D,F=n.verbose,W=void 0!==F&&F;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:a,threshold:u,maxPatternLength:d,isCaseSensitive:f,tokenSeparator:p,findAllMatches:y,minMatchCharLength:_,id:C,keys:S,includeMatches:N,includeScore:E,shouldSort:M,getFn:j,sortFn:A,verbose:W,tokenize:O,matchAllTokens:T},this.setCollection(t),this._processKeys(S)}var t,n;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"_processKeys",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&"string"==typeof e[0])for(var t=0,n=e.length;t<n;t+=1){var i=e[t];this._keyWeights[i]=1,this._keyNames.push(i)}else{for(var r=null,o=null,a=0,s=0,c=e.length;s<c;s+=1){var u=e[s];if(!u.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var l=u.name;if(this._keyNames.push(l),!u.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var d=u.weight;if(d<0||d>1)throw new Error('"weight" property in key must bein the range of [0, 1)');o=null==o?d:Math.max(o,d),r=null==r?d:Math.min(r,d),this._keyWeights[l]=d,a+=d}if(a>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),i=n.tokenSearchers,r=n.fullSearcher,o=this._search(i,r);return this._computeScore(o),this.options.shouldSort&&this._sort(o),t.limit&&"number"==typeof t.limit&&(o=o.slice(0,t.limit)),this._format(o)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),i=0,r=n.length;i<r;i+=1)t.push(new o(n[i],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,i={},r=[];if("string"==typeof n[0]){for(var o=0,a=n.length;o<a;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:i,results:r,tokenSearchers:e,fullSearcher:t});return r}for(var s=0,c=n.length;s<c;s+=1)for(var u=n[s],l=0,d=this._keyNames.length;l<d;l+=1){var h=this._keyNames[l];this._analyze({key:h,value:this.options.getFn(u,h),record:u,index:s},{resultMap:i,results:r,tokenSearchers:e,fullSearcher:t})}return r}},{key:"_analyze",value:function(e,t){var n=this,i=e.key,r=e.arrayIndex,o=void 0===r?-1:r,a=e.value,s=e.record,c=e.index,l=t.tokenSearchers,d=void 0===l?[]:l,h=t.fullSearcher,f=t.resultMap,v=void 0===f?{}:f,p=t.results,g=void 0===p?[]:p;!function e(t,r,o,a){if(null!=r)if("string"==typeof r){var s=!1,c=-1,l=0;n._log("\nKey: ".concat(""===i?"--":i));var f=h.search(r);if(n._log('Full text: "'.concat(r,'", score: ').concat(f.score)),n.options.tokenize){for(var p=r.split(n.options.tokenSeparator),y=p.length,m=[],_=0,w=d.length;_<w;_+=1){var C=d[_];n._log('\nPattern: "'.concat(C.pattern,'"'));for(var b=!1,S=0;S<y;S+=1){var k=p[S],M=C.search(k),x={};M.isMatch?(x[k]=M.score,s=!0,b=!0,m.push(M.score)):(x[k]=1,n.options.matchAllTokens||m.push(1)),n._log('Token: "'.concat(k,'", score: ').concat(x[k]))}b&&(l+=1)}c=m[0];for(var j=m.length,L=1;L<j;L+=1)c+=m[L];c/=j,n._log("Token score average:",c)}var A=f.score;c>-1&&(A=(A+c)/2),n._log("Score average:",A);var R=!n.options.tokenize||!n.options.matchAllTokens||l>=d.length;if(n._log("\nCheck Matches: ".concat(R)),(s||f.isMatch)&&R){var O={key:i,arrayIndex:t,value:r,score:A};n.options.includeMatches&&(O.matchedIndices=f.matchedIndices);var P=v[a];P?P.output.push(O):(v[a]={item:o,output:[O]},g.push(v[a]))}}else if(u(r))for(var T=0,I=r.length;T<I;T+=1)e(T,r[T],o,a)}(o,a,s,c)}},{key:"_computeScore",value:function(e){this._log("\n\nComputing score:\n");for(var t=this._keyWeights,n=!!Object.keys(t).length,i=0,r=e.length;i<r;i+=1){for(var o=e[i],a=o.output,s=a.length,c=1,u=0;u<s;u+=1){var l=a[u],d=l.key,h=n?t[d]:1,f=0===l.score&&t&&t[d]>0?Number.EPSILON:l.score;c*=Math.pow(f,h)}o.score=c,this._log(o)}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===i(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}),2)),n=null}var r=[];this.options.includeMatches&&r.push((function(e,t){var n=e.output;t.matches=[];for(var i=0,r=n.length;i<r;i+=1){var o=n[i];if(0!==o.matchedIndices.length){var a={indices:o.matchedIndices,value:o.value};o.key&&(a.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(a.arrayIndex=o.arrayIndex),t.matches.push(a)}}})),this.options.includeScore&&r.push((function(e,t){t.score=e.score}));for(var o=0,a=e.length;o<a;o+=1){var s=e[o];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),r.length){for(var c={item:s.item},u=0,l=r.length;u<l;u+=1)r[u](s,c);t.push(c)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&r(t.prototype,n),e}();e.exports=l},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=n(2),o=n(3),a=n(6),s=function(){function e(t,n){var i=n.location,r=void 0===i?0:i,o=n.distance,s=void 0===o?100:o,c=n.threshold,u=void 0===c?.6:c,l=n.maxPatternLength,d=void 0===l?32:l,h=n.isCaseSensitive,f=void 0!==h&&h,v=n.tokenSeparator,p=void 0===v?/ +/g:v,g=n.findAllMatches,y=void 0!==g&&g,m=n.minMatchCharLength,_=void 0===m?1:m,w=n.includeMatches,C=void 0!==w&&w;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:s,threshold:u,maxPatternLength:d,isCaseSensitive:f,tokenSeparator:p,findAllMatches:y,includeMatches:C,minMatchCharLength:_},this.pattern=f?t:t.toLowerCase(),this.pattern.length<=d&&(this.patternAlphabet=a(this.pattern))}var t,n;return t=e,(n=[{key:"search",value:function(e){var t=this.options,n=t.isCaseSensitive,i=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var a={isMatch:!0,score:0};return i&&(a.matchedIndices=[[0,e.length-1]]),a}var s=this.options,c=s.maxPatternLength,u=s.tokenSeparator;if(this.pattern.length>c)return r(e,this.pattern,u);var l=this.options,d=l.location,h=l.distance,f=l.threshold,v=l.findAllMatches,p=l.minMatchCharLength;return o(e,this.pattern,this.patternAlphabet,{location:d,distance:h,threshold:f,findAllMatches:v,minMatchCharLength:p,includeMatches:i})}}])&&i(t.prototype,n),e}();e.exports=s},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,r=new RegExp(t.replace(n,"\\$&").replace(i,"|")),o=e.match(r),a=!!o,s=[];if(a)for(var c=0,u=o.length;c<u;c+=1){var l=o[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){var i=n(4),r=n(5);e.exports=function(e,t,n,o){for(var a=o.location,s=void 0===a?0:a,c=o.distance,u=void 0===c?100:c,l=o.threshold,d=void 0===l?.6:l,h=o.findAllMatches,f=void 0!==h&&h,v=o.minMatchCharLength,p=void 0===v?1:v,g=o.includeMatches,y=void 0!==g&&g,m=s,_=e.length,w=d,C=e.indexOf(t,m),b=t.length,S=[],k=0;k<_;k+=1)S[k]=0;if(-1!==C){var M=i(t,{errors:0,currentLocation:C,expectedLocation:m,distance:u});if(w=Math.min(M,w),-1!==(C=e.lastIndexOf(t,m+b))){var x=i(t,{errors:0,currentLocation:C,expectedLocation:m,distance:u});w=Math.min(x,w)}}C=-1;for(var j=[],L=1,A=b+_,R=1<<(b<=31?b-1:30),O=0;O<b;O+=1){for(var P=0,T=A;P<T;)i(t,{errors:O,currentLocation:m+T,expectedLocation:m,distance:u})<=w?P=T:A=T,T=Math.floor((A-P)/2+P);A=T;var I=Math.max(1,m-T+1),N=f?_:Math.min(m+T,_)+b,D=Array(N+2);D[N+1]=(1<<O)-1;for(var E=N;E>=I;E-=1){var F=E-1,W=n[e.charAt(F)];if(W&&(S[F]=1),D[E]=(D[E+1]<<1|1)&W,0!==O&&(D[E]|=(j[E+1]|j[E])<<1|1|j[E+1]),D[E]&R&&(L=i(t,{errors:O,currentLocation:F,expectedLocation:m,distance:u}))<=w){if(w=L,(C=F)<=m)break;I=Math.max(1,2*m-C)}}if(i(t,{errors:O+1,currentLocation:m,expectedLocation:m,distance:u})>w)break;j=D}var q={isMatch:C>=0,score:0===L?.001:L};return y&&(q.matchedIndices=r(S,p)),q}},function(e,t){e.exports=function(e,t){var n=t.errors,i=void 0===n?0:n,r=t.currentLocation,o=void 0===r?0:r,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,u=void 0===c?100:c,l=i/e.length,d=Math.abs(s-o);return u?l+d/u:d?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],i=-1,r=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===i?i=o:s||-1===i||((r=o-1)-i+1>=t&&n.push([i,r]),i=-1)}return e[o-1]&&o-i>=t&&n.push([i,o-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,i=0;i<n;i+=1)t[e.charAt(i)]=0;for(var r=0;r<n;r+=1)t[e.charAt(r)]|=1<<n-r-1;return t}},function(e,t){var n=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},i=function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)},r=function(e){return"string"==typeof e},o=function(e){return"number"==typeof e};e.exports={get:function(e,t){var a=[];return function e(t,s){if(s){var c=s.indexOf("."),u=s,l=null;-1!==c&&(u=s.slice(0,c),l=s.slice(c+1));var d=t[u];if(null!=d)if(l||!r(d)&&!o(d))if(n(d))for(var h=0,f=d.length;h<f;h+=1)e(d[h],l);else l&&e(d,l);else a.push(i(d))}else a.push(t)}(e,t),a},isArray:n,isString:r,isNum:o,toString:i}}])},"object"==(0,s.default)(t)&&"object"==(0,s.default)(e)?e.exports=a():(r=[],void 0===(o="function"===typeof(i=a)?i.apply(t,r):i)||(e.exports=o))}).call(this,n(15)(e))},4502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:15,minMatchCharLength:5,keys:["country_name","region_name","synonyms","name","title","cities","destination_city_name"]}},4503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={searchResultIsNull:e=>!(e.searchResultActivities.length>0||e.searchResultCategories.length>0||e.searchResultSights.length>0||e.searchResultCities.length>0||e.searchResultDestinationCities.length>0),pathActivity:e=>(t,n)=>"/".concat(window.gon.locale,"/").concat(n||e.currentCityShortcut,"/activities/").concat(t),pathRegion:()=>e=>"/".concat(window.gon.locale,"/regions/").concat(e),pathCity:()=>e=>"/".concat(window.gon.locale,"/").concat(e),pathCities:()=>"/".concat(window.gon.locale,"/cities"),pathSight:()=>(e,t)=>"/".concat(window.gon.locale,"/").concat(t,"/sights/").concat(e),pathCategory:e=>t=>"/".concat(window.gon.locale,"/").concat(e.currentCityShortcut,"/category/").concat(t),pathCityToCity:e=>t=>"/".concat(window.gon.locale,"/").concat(e.currentCityShortcut,"/to/").concat(t)};t.default=i},4504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={setLoading:(e,t)=>{e.isLoading=t},setInitData(e,t){var n;(e.topCities=t.top_cities,e.cities=t.cities,e.sights=t.sights,e.regions=t.regions,!e.currentCityIsLoaded&&t.current_city)&&(e.currentCityNameGde=null===(n=t.current_city.morphs)||void 0===n?void 0:n.city_loc,e.currentCityTags=t.current_city.tags,e.currentCityTopActivities=t.current_city.top_activities,e.currentCityDestinationCities=t.current_city.destination_cities)},setCurrentCityParams(e,t){var{shortcut:n,morphs:i,tags:r}=t;e.currentCityIsLoaded=!0,e.currentCityShortcut=n,e.currentCityName=null===i||void 0===i?void 0:i.city,e.currentCityNameGde=null===i||void 0===i?void 0:i.city_loc,e.currentCityTags=r},setCurrentCityActivitiesAndDestinations(e,t){var{topActivities:n,destinationCities:i}=t;e.currentCityTopActivities=n,e.currentCityDestinationCities=i},setSearchResultActivities(e,t){e.searchResultActivities=t},setLocalSearchResults(e,t){var{categories:n,sights:i,regions:r,cities:o,destinationCities:a,onlineQuery:s}=t;e.searchResultCategories=n,e.searchResultSights=i,e.searchResultRegions=r,e.searchResultCities=o,e.searchResultDestinationCities=a,e.isSearchResultWithOnline=s}};t.default=i},4505:function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(159));function a(e){var t=e.find(".js-current-currency"),n=(0,o.default)().getShortcut();t.html(n),function(e,t){var n=(0,o.default)().getCurrenciesList().map(e=>{var n=t===e.shortcut?"layout-header__button_currency-selected":"";return'\n          <div class="js-select-currency layout-header__button layout-header__button_currency\n                      '.concat(n,'"\n               data-shortcut="').concat(e.shortcut,'"\n          > <i>').concat(e.shortcut,"</i> ").concat(e.name,"\n          </div>\n        ")}).join("");e.find(".js-currencies-list").html(n)}(e,n)}t.default=()=>{var e=(0,r.default)(".js-currency-switcher-dropdown");e.delegate(".js-select-currency","click",t=>{var n=(0,r.default)(t.target).data("shortcut")||"usd";(0,o.default)().setShortcut(n),a(e)}),a(e),(0,o.default)().render()}},663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SET_CURRENCY:"SET_CURRENCY"}},914:function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(3)),o=i(n(9)),a=i(n(33)),s=i(n(19)),c=i(n(1572)),u=i(n(4499)),l=i(n(4505)),d="layout-header__button_menu-cross",h="layout-header__button_search-cross";function f(e){(0,r.default)("html, body").toggleClass("body-noscroll",e),(0,r.default)(".".concat(d,", .").concat(h)).length?(0,r.default)(".js-flash-alert").hide():(0,r.default)(".js-flash-alert").show()}function v(){a.default.registerModule("header_search",u.default),a.default.dispatch("header_search/loadInitData"),window.addEventListener("refreshCurrentCity",e=>{a.default.dispatch("header_search/setCurrentCity",e.detail)})}function p(){document.querySelector(".layout-header__search-wrapper_desktop")&&new o.default({el:".layout-header__search-wrapper_desktop",store:a.default,i18n:s.default,components:{SearchDesktop:()=>Promise.all([n.e(0),n.e(2),n.e(131)]).then(n.bind(null,4536))},template:"<SearchDesktop/>"})}function g(){document.querySelector(".layout-header__mobile-search")&&new o.default({el:".layout-header__mobile-search",store:a.default,i18n:s.default,components:{SearchMobile:()=>Promise.all([n.e(0),n.e(2),n.e(132)]).then(n.bind(null,4538))},template:"<SearchMobile/>"})}function y(){(0,r.default)(".js-notify").each((function(){var e=(0,r.default)(this),t=e.data("cookie");e.find(".js-notify-close").on("click",()=>{e.hide(),r.default.cookie(t,!0)})}))}function m(){(0,r.default)(".layout-header").each((function(){var e=(0,r.default)(this),t=e.find(".js-dropdown"),n=e.find(".js-dropdown-items"),i=e.find(".js-menu-toggle"),o=e.find(".js-menu-hide"),a=e.find(".layout-header__menu-wrapper");(0,r.default)(document).click(()=>{e.find(".js-dropdown-items").hide()}),t.each((function(){var e=(0,r.default)(this).find(".js-dropdown-items");e.mouseleave((function(e){e.stopPropagation(),(0,r.default)(this).hide()})),(0,r.default)(this).mouseover(t=>{t.stopPropagation(),n.hide(),e.show()})})),i.on("click",(function(t){t.preventDefault(),(0,r.default)(this).toggleClass(d),a.toggle(),e.find(".layout-header__button_search").removeClass(h),e.find(".layout-header__mobile-search").hide(),f()})),o.on("click",t=>{i.removeClass(d),a.hide(),e.find(".layout-header__button_search").removeClass(h),e.find(".layout-header__mobile-search").hide(),f(!1)}),e.find(".js-layout-header-button-search").on("click",(function(t){t.preventDefault(),"desktop"!==window.gon.device_type&&0!==e.find(".layout-header__mobile-search").length&&((0,r.default)(this).toggleClass(h),e.find(".layout-header__mobile-search").toggle(),f())}))}))}t.default=()=>{(new c.default).exec(l.default).exec(v).exec(p).exec(g).exec(y).exec(m)}}}]);
//# sourceMappingURL=layout_header_binder.js-5558f63c94e164ba4aab.chunk.js.map