(window.webpackJsonp=window.webpackJsonp||[]).push([[203],{3609:function(e,a,t){"use strict";var n,r,i;r=[t(3)],void 0===(i="function"===typeof(n=function(e){var a={ru:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],en:["January","February","March","April","May","June","July","August","September","October","November","December"],fr:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],de:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],es:["January","February","March","April","May","June","July","August","September","October","November","December"],it:["January","February","March","April","May","June","July","August","September","October","November","December"],pt:["January","February","March","April","May","June","July","August","September","October","November","December"],da:["January","February","March","April","May","June","July","August","September","October","November","December"],sv:["January","February","March","April","May","June","July","August","September","October","November","December"],tr:["January","February","March","April","May","June","July","August","September","October","November","December"]}[CALENDRICAL_LANG];function t(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function n(e,a){return String(e)==String(a)}function r(e,a){return e instanceof Date?r(e.getFullYear(),e.getMonth()):1==a?e%4!=0||e%100==0&&e%400!=0?28:29:3==a||5==a||8==a||10==a?30:31}function i(e){var a=e.getFullYear(),t=e.getMonth(),n=e.getDate();return n==r(e)?11==t?new Date(a+1,0,1):new Date(a,t+1,1):new Date(a,t,n+1)}function o(e){var a=e.getFullYear(),t=e.getMonth(),n=e.getDate();return 1==n?0==t?new Date(a-1,11,r(a-1,11)):new Date(a,t-1,r(a,t-1)):new Date(a,t,n-1)}function l(e,a){if((a=a||{}).separator=a.separator||"/",a.iso){var t=e.getMonth()+1,n=e.getDate();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)}return(a.usa?e.getMonth()+1+a.separator+e.getDate():e.getDate()+a.separator+(e.getMonth()+1))+a.separator+e.getFullYear()}function d(e,a){var t,n,r,i;return a=a||{},t=e.split(/\D/),a.iso?(i=t.shift(),r=t.shift(),n=t.shift()):(a.usa?(r=t.shift(),n=t.shift()):(n=t.shift(),r=t.shift()),i=t.shift()),new Date(r+"/"+n+"/"+i)}function s(e,a,t){var n,r=a;if(a<10&&(r="0"+a),t.isoTime)return(n=e)<10&&(n="0"+e),n+":"+r;if(0==(n=e%12)&&(n=12),t.meridiemUpperCase)var i=e<12?"AM":"PM";else i=e<12?"am":"pm";return n+":"+r+i}function u(e){var a=a=/(\d+)\s*[:\-\.,]\s*(\d+)\s*(am|pm)?/i.exec(e);if(a&&a.length>=3){var t=Number(a[1]),n=Number(a[2]);return 12==t&&a[3]&&(t-=12),a[3]&&"pm"==a[3].toLowerCase()&&(t+=12),{hour:t,minute:n}}return null}function c(e){return e&&60*e.hour+e.minute}function m(r,l,d,s){s=s||{};var u=t(),c=new Date(l,d,1),p=function(e,a){return 11==a?new Date(e+1,0,1):new Date(e,a+1,1)}(l,d),f=7-p.getDay();f<7&&(f+=7);for(var h=0;h<f;h++)p=i(p);var v=e("<table />");(function(t,n,r,i){i=i||{};var o=e("<thead />"),l=e("<tr />").appendTo(o);e("<th />").addClass("monthCell").append(e('<a href="javascript:;">&laquo;</a>').addClass("prevMonth").mousedown((function(e){m(t,0==r?n-1:n,0==r?11:r-1,i),e.preventDefault()}))).appendTo(l);var d=a[r]+" "+n;e("<th />").addClass("monthCell").attr("colSpan",5).append(e('<a href="javascript:;">'+d+"</a>").addClass("monthName")).appendTo(l),e("<th />").addClass("monthCell").append(e('<a href="javascript:;">&raquo;</a>').addClass("nextMonth").mousedown((function(){m(t,11==r?n+1:n,11==r?0:r+1,i)}))).appendTo(l);var s=e("<tr />").appendTo(o),u="ru"==CALENDRICAL_LANG?["\u041f\u041d","\u0412\u0422","\u0421\u0420","\u0427\u0422","\u041f\u0422","\u0421\u0411","\u0412\u0421"]:["Mo","Tu","We","Th","Fr","Sa","Su"];return e.each(u,(function(a,t){e("<td />").addClass("dayName").append(t).appendTo(s)})),o})(r,l,d,s).appendTo(v);var g=e("<tbody />").appendTo(v),b=e("<tr />"),D=c.getDay()+6;for(h=0;h<D;h++)c=o(c);for(;c<=p;){var T=e("<td />").addClass("day").append(e('<a href="javascript:;">'+c.getDate()+"</a>").click(function(){var e=c;return function(){s&&s.selectDate&&s.selectDate(e)}}())).appendTo(b),w=n(c,u),M=s.selected&&n(s.selected,c);w&&T.addClass("today"),M&&T.addClass("selected"),w&&M&&T.addClass("today_selected"),c.getMonth()!=d&&T.addClass("nonMonth"),0==c.getDay()&&(g.append(b),b=e("<tr />")),c=i(c)}b.children().length?g.append(b):b.remove(),r.empty().append(v)}e.fn.calendricalDate=function(a){return(a=a||{}).padding=a.padding||4,this.each((function(){var n,r=e(this),i=!1;r.bind("focus click",(function(){if(!n){var o=r.position();r.css("padding-left"),n=e("<div />").addClass("calendricalDatePopup").mouseenter((function(){i=!0})).mouseleave((function(){i=!1})).mousedown((function(e){e.preventDefault()})).css({position:"absolute",left:o.left,top:o.top+r.height()+2*a.padding}),r.after(n);var s=d(r.val(),a);s.getFullYear()||(s=t()),m(n,s.getFullYear(),s.getMonth(),e.extend({},a,{selected:s,selectDate:function(e){if(i=!1,r.val(l(e,a)).change(),n.remove(),n=null,a.endDate){var t=d(a.endDate.val(),a);t>=s&&a.endDate.val(l(new Date(e.getTime()+t.getTime()-s.getTime()),a))}}}))}})).blur((function(){i?n&&r.focus():n&&(n.remove(),n=null)}))}))},e.fn.calendricalDateRange=function(a){return this.length>=2&&(e(this[0]).calendricalDate(e.extend({endDate:e(this[1])},a)),e(this[1]).calendricalDate(a)),this},e.fn.calendricalTime=function(a){return(a=a||{}).timeInterval=a.timeInterval||30,a.padding=a.padding||4,this.each((function(){var t,r=e(this),i=!1;r.attr("autocomplete","off"),r.bind("focus click",(function(){if(!t){var o=r.position();t=e("<div />").addClass("calendricalTimePopup").mouseenter((function(){i=!0})).mouseleave((function(){i=!1})).mousedown((function(e){e.preventDefault()})).css({position:"absolute",left:o.left,top:o.top+r.height()+2*a.padding}),r.after(t);var l={selection:r.val(),selectTime:function(e){i=!1,r.val(e).change(),t.remove(),t=null},isoTime:a.isoTime||!1,meridiemUpperCase:a.meridiemUpperCase||!1,defaultTime:a.defaultTime||{hour:8,minute:0},minTime:a.minTime||{hour:0,minute:0},maxTime:a.maxTime||{hour:23,minute:59},timeInterval:a.timeInterval||30};if(a.startTime){var m=u(a.startTime.val());a.startDate&&a.endDate&&!n(d(a.startDate.val(),a),d(a.endDate.val(),a))&&(m=null),m&&(l.minTime=m,l.defaultTime=m,l.showDuration=!0,t.addClass("calendricalEndTimePopup"))}!function(a,t){var n,r=c(t.minTime),i=c(t.maxTime),o=c(t.defaultTime),l=t.selection&&c(u(t.selection));l=l&&Math.floor((l-r)/t.timeInterval)*t.timeInterval+r;for(var d=e("<ul />"),m=r;m<=i;m+=t.timeInterval)!function(a){var i=s(Math.floor(a/60),a%60,t),u=i;if(t.showDuration){var c=a-r;u+=c<60?" ("+c+" mins)":60==c?" (1 hr)":" ("+Math.round(c/60*10)/10+" hrs)"}var m=e("<li />").append(e('<a href="javascript:;">'+u+"</a>").click((function(){t&&t.selectTime&&t.selectTime(i)})).mousemove((function(){e("li.selected",d).removeClass("selected")}))).appendTo(d);n||a!=o||(n=m),l==a&&(m.addClass("selected"),n=m)}(m);n&&setTimeout((function(){a[0].scrollTop=n[0].offsetTop-2*n.height()}),0),a.empty().append(d)}(t,l)}})).blur((function(){i?t&&r.focus():t&&(t.remove(),t=null)}))}))},e.fn.calendricalTimeRange=function(a){return this.length>=2&&(e(this[0]).calendricalTime(a),e(this[1]).calendricalTime(e.extend({startTime:e(this[0])},a))),this},e.fn.calendricalDateTimeRange=function(a){return this.length>=4&&(e(this[0]).calendricalDate(e.extend({endDate:e(this[2])},a)),e(this[1]).calendricalTime(a),e(this[2]).calendricalDate(a),e(this[3]).calendricalTime(e.extend({startTime:e(this[1]),startDate:e(this[0]),endDate:e(this[2])},a))),this}})?n.apply(a,r):n)||(e.exports=i)},919:function(e,a,t){"use strict";var n=t(0);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(3));t(3609);var i=n(t(431)),o=n(t(1215)),l=n(t(3590));function d(){r.default.ajax({url:"".concat(window.location.origin,"/welcome_modal?locale=").concat(window.gon.locale),success:e=>{var a=(0,r.default)(e).removeClass("modal modal--banner-wrapper hide").css("left",0).css("width","100%");(0,r.default)("#welcomeModal").replaceWith(a),a.addClass("bem-modal_opened"),a.data("opened",!0),"remarketing-modal"===a.data("label")?r.default.cookie("remarketing_modal_showed",1):r.default.cookie("welcome_modal_showed",1),(0,r.default)("#trip-date-calendrical").calendricalDate(),window.isModalWelcomeWasOpened=!0,(0,o.default)(),(0,i.default)(),(0,l.default)()}})}function s(){var e=window.isModalFeedbackWasOpened||window.isModalOneSignalWasOpened||window.isCityForTripModalWasOpened;setTimeout(d,e?6e4:0)}a.default=()=>{var e;0!==(e=(0,r.default)("#existing-email-discount_modal")).length&&(e.removeClass("modal hide fade"),e.addClass("bem-modal_opened"),e.data("opened",!0),(0,r.default)(".trigger-forgot-modal").on("click",a=>{a.preventDefault(),e.removeClass("bem-modal_opened"),e.data("opened",!1),(0,r.default)('div[data-name="resetPassword"]').addClass("sputnik-modal_visible")}));var a=(0,r.default)("#welcomeModal");if(0!==a.length){a.removeClass("modal modal--banner-wrapper hide").removeClass("modal modal--banner-wrapper hide").css("left",0).css("width","100%");var t=1e3*Number.parseInt(a.data("timeout"),10);setTimeout(s,t)}}}}]);
//# sourceMappingURL=welcome-modal-af017b9e02a84790f6d5.chunk.js.map